<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eco Login/Register</title>

<style>
  @font-face{
    font-family:'ALK Life';
    src:url(../fonts/alk-life-webfont.eot);
    src:url(../fonts/alk-life-webfont.eot?#iefix) format('embedded-opentype'),
        url(../fonts/alk-life-webfont.woff2) format('woff2'),
        url(../fonts/alk-life-webfont.woff) format('woff'),
        url(../fonts/alk-life-webfont.ttf) format('truetype'),
        url(../fonts/alk-life-webfont.svg#alk_liferegular) format('svg')
  }
  body { 
    font-family: "ALK Life", sans-serif; 
    background: #f5f5f5; 
    display:flex; 
    justify-content:center; 
    align-items:center; 
    height:100vh; 
  }
  .container { 
    background:white; 
    padding:20px; 
    border-radius:10px; 
    box-shadow:0 2px 10px rgba(0,0,0,0.1); 
    width:300px; 
    text-align:center; 
  }
  input { 
    width:100%; 
    padding:8px; 
    margin:8px 0; 
    border-radius:5px; 
    border:1px solid #ccc; 
  }
  button { 
    padding:10px; 
    width:100%; 
    background:#4CAF50; 
    color:white; 
    border:none; 
    border-radius:5px; 
    cursor:pointer; 
  }
  button:hover { background:#45a049; }
</style>
</head>
<body>
<div class="container">
  <h2>ðŸŒ± Eco Login/Register</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="text" id="name" placeholder="Name">
  <input type="text" id="surname" placeholder="Surname">
  <input type="password" id="password" placeholder="Password">
  <button id="loginBtn">Login / Register</button>
</div>

<script>
document.getElementById('loginBtn').addEventListener('click', () => {
  const username = document.getElementById('username').value.trim();
  const name = document.getElementById('name').value.trim();
  const surname = document.getElementById('surname').value.trim();
  const password = document.getElementById('password').value.trim();

  if(!username || !name || !surname || !password) 
    return alert("Enter all fields");

  let users = JSON.parse(localStorage.getItem('users') || '[]');
  let user = users.find(u => u.username === username);

  if(user){
    // Check all details for login
    if(user.name === name && user.surname === surname && user.password === password){
        localStorage.setItem('currentUser', JSON.stringify(user));
        window.location.href = 'home.html';
        } else {
        alert("Details do not match any account");
        }
    } else {
        // New user registration with 0 points
        user = { username, name, surname, password, points: 0 };
        users.push(user);
        localStorage.setItem('users', JSON.stringify(users));
        localStorage.setItem('currentUser', JSON.stringify(user));
        window.location.href = 'home.html';
    }
    });
</script>
</body>
</html>
