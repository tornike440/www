<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eco Challenges</title>
<link rel="stylesheet" href="/node_modules/alk-life/css/alk-life.min.css">
<style>
  
* { box-sizing:border-box; margin:0; padding:0; font-family: Arial, sans-serif; }
body { background:#009688; padding-bottom:80px;font-family: "ALK Life", sans-serif;  margin-bottom: 40px;}
.header { display:flex; margin-bottom: 30px; flex-direction:column; align-items:flex-start; justify-content:center; text-align:left; padding:30px 20px 15px; background:#4CAF50; color:white; border-bottom-left-radius:20px; border-bottom-right-radius:20px; }
.header h1 { font-size:24px; font-weight:bold; }
.header .logout { margin-top:10px; padding:6px 12px; background:#388e3c; color:white; border:none; border-radius:6px; cursor:pointer; }
.suggestions { display:flex; justify-content:space-around; margin:20px; }
.suggestions img { width:50px; height:50px; }
.suggestions div { text-align:center; font-size:12px; margin-top:5px; }
.challenge-list {
  display: flex;
  flex-direction: column;
  gap: 80px;
  padding:0 20px;

}
 

.challenge-card{
  display: flex;
  flex-direction: column;
  height: 120px;
  
}
.challenge-card img{
  height: 80px;
  width: 100%;
  object-fit: cover;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.div3{
  display: grid;
  grid-template-columns: 3fr 1fr;
  height: auto;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  align-items: center;
  padding: 0 10px;
  background: #989898;
 
}
.div4{
  display: flex;
  align-items: center;
  font-size: 20px;
   border-right: 1px solid #303030;
   text-align: center;
   width: 90%;
   height: 100%;
}


.points { 
  
  font-size: 15px; 
  font-weight: bold; 
  display: inline-flex; 
  align-items: center; 
  gap: 6px;
  padding: 6px 14px;
  border-radius: 20px;
  background: yellow;
  color: #388e3c;
  box-shadow: 0 2px 8px rgba(76,175,80,0.08);
  border: 1px solid #e0e0a0;
  margin: 8px 0;
  transition: box-shadow 0.2s;
  
}
a{
  text-decoration: none;
  color: #303030;
}
.points img {
  width: 18px;
  height: 18px;
  margin-left: 4px;
}
.fixedbtn {border: none; position:fixed; top:30px; right:20px; width:40px; height:40px; background:rgba(21, 255, 0, 0.75); color:white; border-radius:10%; display:flex; align-items:center; justify-content:center; font-size:32px; box-shadow:0 2px 6px rgba(0,0,0,0.2); cursor:pointer; z-index:1000; }


.bottom-nav { position:fixed; bottom:0; left:0; right:0; height:70px; background:white; display:flex; justify-content:space-around; align-items:center; border-top:1px solid #ddd; z-index:100; }
.nav-item { text-align:center; font-size:12px; color:#777; text-decoration:none; }
.nav-item.active { color:#4CAF50; font-weight:bold; }
.nav-item img { width:24px; height:24px; display:block; margin:0 auto 5px; }
</style>
</head>
<body>

  <button class="fixedbtn">?</button>

<div class="header">
  <h1>Find challenges </h1>
  <p id="welcomeMsg"></p>
  
</div>

<h2 style="margin:0 20px 10px;">Our suggestions</h2>

<div class="suggestions">
  <div><img src="thumbs-up.png" alt=""><div>Easy</div></div>
  <div><img src="salary.png" alt=""><div>Savings</div></div>
  <div><img src="healthcare.png" alt=""><div>Healthy</div></div>
  <div><img src="all.png" alt=""><div>All</div></div>
</div>

<h2 style="margin:0 20px 10px;">Favorite challenges</h2>
<div class="challenge-list" id="challengeList">
  
  <a href="challange1.html">
    <div class="challenge-card" >
      <img src="recycle.png" alt="">


      <div class="div3">
        <div class="div4">I donate clothes to charity organizations</div>


          <div>
            <span class="points">+3 <img src="leaf.png" alt=""></span>
            
          </div>


        </div>
      </div>
  </a>


    <div class="challenge-card" >
    <img src="composte.png" alt="">


    <div class="div3">
      <div class="div4">Plant a tree in your neighborhood</div>


        <div>
          <span class="points">+5 <img src="leaf.png" alt=""></span>
          
        </div>


      </div>
    </div>



    <div class="challenge-card" >
    <img src="composte.png" alt="">


    <div class="div3">
      <div class="div4">Plant a tree in your neighborhood</div>


        <div>
          <span class="points">+5 <img src="leaf.png" alt=""></span>
          
        </div>


      </div>
    </div>

<h2 style="margin:0 20px 10px;">group challenges</h2>




    <div class="challenge-card" >
    <img src="composte.png" alt="">


    <div class="div3">
      <div class="div4">Plant a tree in your neighborhood</div>


        <div>
          <span class="points">+5 <img src="leaf.png" alt=""></span>
          
        </div>


      </div>
    </div>




   


</div>

<div class="bottom-nav">
  <a class="nav-item" href="home.html"><img src="home.png" alt=""><br>Home</a>
  <a class="nav-item active"><img src="challenges.png" alt=""><br>Challenges</a>
  <a class="nav-item" href="profile.html"><img src="profile.png" alt=""><br>Profile</a>
  <a class="nav-item" href="company.html"><img src="chatbot.png" alt=""><br>Company</a>
</div>

<script>
let currentUser = JSON.parse(localStorage.getItem("currentUser"));
if(!currentUser){ window.location.href="index.html"; }
else { document.getElementById('welcomeMsg').textContent = `Hello, ${currentUser.username}!`; }

document.getElementById('logoutBtn').addEventListener('click', ()=>{
  localStorage.removeItem("currentUser");
  window.location.href="index.html";
});

// Challenges array (example)
const challenges = [
  { text: "I'm emptying my personal mailbox's recycle bin", points: 1, img: "challenge1.png" },
  { text: "I'm scanning my bin", points: 2, img: "challenge2.png" },
  { text: "I'm sticking a stop ad on my letterbox", points: 4, img: "challenge3.png" }
];

const challengeList = document.getElementById("challengeList");

challenges.forEach((ch, i)=>{
  const div = document.createElement("div");
  div.className = "challenge-card";
  div.style.backgroundImage = `url('${ch.img}')`;
  div.innerHTML = `
    <div>${ch.text}</div>
    <div>
      <span class="points">+${ch.points} ðŸ’Ž</span>
      <button id="btn${i}">Complete</button>
    </div>
  `;
  challengeList.appendChild(div);

  document.getElementById(`btn${i}`).addEventListener('click', ()=>{
    currentUser.points += ch.points;
    localStorage.setItem("currentUser", JSON.stringify(currentUser));
    let users = JSON.parse(localStorage.getItem("users") || '[]');
    const idx = users.findIndex(u=>u.username===currentUser.username);
    if(idx>=0){ users[idx].points = currentUser.points; localStorage.setItem("users", JSON.stringify(users)); }
    alert(`You earned ${ch.points} points! Total: ${currentUser.points}`);
  });
});
</script>

</body>
</html>
